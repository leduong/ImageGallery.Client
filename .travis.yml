sudo: required
dist: trusty
group: edge
services:
- docker
language: node_js
node_js:
- '8'
- '9'
- '10'
script:
# addons:
#   sauce_connect: true
cache:
  directories:
  - node_modules

jobs:
  include:
    - stage: "Build"
      before_install:
        - if [[ `npm -v` != 3* ]]; then npm i -g npm@3; fi
        - cd src/CoreDataStore.Web
      script: $TRAVIS_BUILD_DIR/travis_build.sh

    - stage: "Deploy"
      script: $TRAVIS_BUILD_DIR/travis_deploy.sh

# - npm i selenium-webdriver assert mocha
# - npm run selenium
notifications:
  slack: leduong:8FHnajypcfOykiQS6Hn6QBB5

# travis by gem
# travis encrypt DOCKER_USERNAME=navigatordatastore DOCKER_PASSWORD=yourPassword --add env.global
# travis encrypt SAUCE_USERNAME=navigatordatastore SAUCE_ACCESS_KEY=yourKey--add env.global   
